4. ロードバランサー設計
4-1. ALB / NLB / CLB 比較

ALB：L7 / HTTP / ほとんどのWebアプリはALB

NLB：L4 / 超高スループット / 固定IP

CLB：旧式、基本は使わない

4-2. ALBのルーティング

パスベース：/api/*

ホストベース：api.example.com

マイクロサービスに最適

4-3. NLB

垂直方向に強い

固定IPが必要なシステム（銀行など）

4-4. クロスゾーン有効/無効

有効：各AZへ均等分散（基本有効）

無効：AZを超えない分散（料金最適化）

4-5. ALB + WAF

公開サービスは必須セット

SQLi / XSS / Bot対策

4-6. ヘルスチェック

距離の短いURLを使う（/healthz）

200を返せる最小処理

閾値は厳し過ぎず緩すぎず
